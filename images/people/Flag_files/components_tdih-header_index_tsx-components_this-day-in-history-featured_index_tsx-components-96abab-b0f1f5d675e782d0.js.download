"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([["components_tdih-header_index_tsx-components_this-day-in-history-featured_index_tsx-components-96abab"],{"./assets/icons/chevron-left.js":function(e,t,s){s.d(t,{s:function(){return r}});var i=s("./node_modules/@swc/helpers/src/_object_spread.mjs"),n=s("./node_modules/@swc/helpers/src/_object_spread_props.mjs"),a=s("./node_modules/react/jsx-runtime.js"),r=function(e){return(0,a.jsx)("svg",(0,n.Z)((0,i.Z)({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1},e),{children:(0,a.jsx)("path",{d:"M15.428 22a1.52 1.52 0 0 1-1.111-.488L6.46 13.178a1.738 1.738 0 0 1 0-2.356l7.857-8.334a1.508 1.508 0 0 1 2.222 0 1.738 1.738 0 0 1 0 2.357L9.793 12l6.747 7.156a1.739 1.739 0 0 1 0 2.357c-.307.325-.71.487-1.112.487Z",fill:"currentColor"})}))}},"./assets/icons/chevron-right.js":function(e,t,s){s.d(t,{_:function(){return r}});var i=s("./node_modules/@swc/helpers/src/_object_spread.mjs"),n=s("./node_modules/@swc/helpers/src/_object_spread_props.mjs"),a=s("./node_modules/react/jsx-runtime.js"),r=function(e){return(0,a.jsx)("svg",(0,n.Z)((0,i.Z)({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1},e),{children:(0,a.jsx)("path",{d:"M7.714 22c-.439 0-.877-.163-1.212-.488a1.633 1.633 0 0 1 0-2.357l7.362-7.154-7.362-7.156a1.633 1.633 0 0 1 0-2.357 1.749 1.749 0 0 1 2.424 0l8.572 8.333c.67.651.67 1.706 0 2.357L8.926 21.51c-.334.329-.773.49-1.212.49Z",fill:"currentColor"})}))}},"./assets/icons/flash.js":function(e,t,s){s.d(t,{T:function(){return r}});var i=s("./node_modules/@swc/helpers/src/_object_spread.mjs"),n=s("./node_modules/@swc/helpers/src/_object_spread_props.mjs"),a=s("./node_modules/react/jsx-runtime.js"),r=function(e){return(0,a.jsx)("svg",(0,n.Z)((0,i.Z)({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":!0},e),{children:(0,a.jsx)("path",{d:"M10.5 2L6.5 13H11.5L8 22H9.5L17.5 11H13L17 2H10.5Z",fill:"currentColor"})}))}},"./components/tdih-header/index.tsx":function(e,t,s){s.d(t,{u:function(){return b}});var i=s("./node_modules/react/jsx-runtime.js"),n=s("./components/page-breadcrumbs/index.tsx"),a=s("./node_modules/@wordpress/react-i18n/build-module/index.js"),r=s("./node_modules/@swc/helpers/src/_sliced_to_array.mjs"),d=s("./node_modules/dayjs/dayjs.min.js"),o=s.n(d),l=s("./node_modules/react/index.js"),c=s("./node_modules/next/router.js"),u=s("./assets/icons/chevron-left.js"),h=s("./assets/icons/chevron-right.js"),m=s("./node_modules/@swc/helpers/src/_object_spread.mjs"),_=s("./node_modules/@swc/helpers/src/_object_spread_props.mjs"),p=function(e){return(0,i.jsx)("svg",(0,_.Z)((0,m.Z)({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,focusable:!1},e),{children:(0,i.jsx)("path",{fill:"currentColor",d:"M6 2v2H5c-1.093 0-2 .907-2 2v14c0 1.093.907 2 2 2h14c1.093 0 2-.907 2-2V6c0-1.093-.907-2-2-2h-1V2h-2v2H8V2H6ZM5 9h14v11H5V9Zm7 4v5h5v-5h-5Z"})}))},v=s("./node_modules/@wordpress/i18n/build-module/index.js"),f=s("./utils/hooks/use-on-click-outside.ts"),x=s("./utils/hooks/use-key.ts"),j=[31,29,31,30,31,30,31,31,30,31,30,31];function g(e,t){e.push({pathname:"/this-day-in-history/day/[day]",query:{day:t}})}function y(e){var t=e.date,s=(0,a.QT)().__,n=(0,c.useRouter)(),d=o()(t),m=o()().format("MMMM-D").toLowerCase(),_=d.format("MMMM-D").toLowerCase(),y=_===m,b=(0,l.useState)(d.month()),w=b[0],N=b[1],M=(0,l.useState)(!1),k=M[0],C=M[1],H=o()("".concat(2020,"-").concat(w+1,"-01")),L=H.format("MMMM"),D=H.subtract(1,"month").format("MMMM"),T=H.add(1,"month").format("MMMM"),Z=H.format("MMMM").toLowerCase(),S=(0,l.useMemo)((function(){for(var e=j[w],t=[[],[],[],[],[]],s=0;s<e;s++){var i=s+1,n=i.toString();t[Math.floor(s/7)].push({day:i,slug:"".concat(Z,"-").concat(n)})}return t}),[w,Z]),A=d.format("MMMM D"),E=(0,l.useRef)(null),R=(0,l.useRef)(null),z=(0,l.useRef)(null),B=(0,l.useRef)([]),I=s("Invalid date");(0,f.t)(R,(function(){return C(!1)})),(0,l.useEffect)((function(){var e="js-calendar-open";k?document.body.classList.add(e):document.body.classList.remove(e)}),[k]),(0,x.z)("Escape",(function(){return C(!1)}),E);var F=function(e){var t=w+e;t<0?t=11:t>11&&(t=0),N(t)};(0,l.useEffect)((function(){if(z.current){var e=z.current.querySelectorAll("button");B.current=Array.from(e)}}),[w]);var V=(0,v.gB)(s("Show days for previous month: %s"),D),U=(0,v.gB)(s("Show days for next month: %s"),T);return(0,x.z)((function(e){if(!k)return!1;var t=e.key;return"ArrowLeft"===t||"ArrowRight"===t}),(function(e){var t="ArrowLeft"===e.key?-1:1,s=e.target,i=B.current.indexOf(s)+t;return i<0?(F(-1),void setTimeout((function(){B.current[B.current.length-1].focus()}),0)):i>B.current.length-1?(F(1),void setTimeout((function(){B.current[0].focus()}),0)):void B.current[i].focus()}),z),(0,i.jsxs)("form",{className:"tdih-calendar hide-print",onSubmit:function(e){if(e.preventDefault(),E.current){var t=E.current.elements[0],s=(0,r.Z)(t.value.split("/"),2),i=s[0],a=s[1],d="".concat(2020,"-").concat(i,"-").concat(a),l=new Date(d);if(!isFinite(+l))return t.setCustomValidity(I),void t.reportValidity();var c=o()(l).date(parseInt(a,10)).format("MMMM-D").toLowerCase();g(n,c),t.value=""}},ref:E,children:[(0,i.jsxs)("label",{htmlFor:"tdih-calendar-date",className:"tdih-calendar__label",children:[s("Choose another date"),(0,i.jsx)("span",{className:"screen-reader-text",children:(0,v.gB)(s("Current one is: %s. Enter a date in the format M/D (e.g., 1/1)"),A)})]}),(0,i.jsxs)("div",{className:"tdih-calendar-group",ref:R,children:[(0,i.jsx)("p",{className:"screen-reader-text",id:"calendar-instruction",children:s("Changing the day will navigate the page to that given day in history. You can navigate days by using left and right arrows")}),(0,i.jsx)("input",{id:"tdih-calendar-date",name:"date",className:"tdih-calendar__input",placeholder:s("M/D"),pattern:"\\d{1,2}\\/\\d{1,2}",onChange:function(e){e.target.setCustomValidity("")},required:!0}),(0,i.jsx)("button",{className:"tdih-calendar__button","aria-label":s(k?"Close Calendar":"Open Calendar"),"aria-expanded":k,type:"button",onClick:function(){return C(!k)},children:(0,i.jsx)(p,{width:20,height:20})}),(0,i.jsxs)("div",{className:"tdih-calendar__calendar","aria-hidden":!k,children:[(0,i.jsxs)("div",{className:"calendar__wrapper",children:[(0,i.jsxs)("div",{className:"calendar__header",children:[(0,i.jsx)("button",{type:"button",className:"calendar__month-button","aria-label":V,onClick:function(){return F(-1)},children:(0,i.jsx)(u.s,{width:20,height:20})}),(0,i.jsx)("div",{className:"calendar__month","aria-live":"polite",children:L}),(0,i.jsx)("button",{type:"button",className:"calendar__month-button","aria-label":U,onClick:function(){return F(1)},children:(0,i.jsx)(h._,{width:20,height:20})})]}),(0,i.jsx)("table",{className:"calendar__table",ref:z,children:(0,i.jsx)("tbody",{children:S.map((function(e,t){return(0,i.jsx)("tr",{children:e.map((function(e){var t=e.day,a=e.slug;return(0,i.jsx)("td",{children:(0,i.jsx)("button",{type:"button",className:"calendar__day-button","aria-describedby":"calendar-instruction",tabIndex:a===_?0:-1,"aria-label":(0,v.gB)(s("See this day in history %1$s %2$s"),L,t),onClick:function(){return function(e){g(n,e),C(!1)}(a)},children:t})},a)}))},t)}))})})]}),!y&&(0,i.jsx)("button",{className:"button has-dark-background-color calendar__today-button",onClick:function(){return n.push("/this-day-in-history"),void C(!1)},type:"button",children:s("Today")})]})]})]})}function b(e){var t=e.titleAsHeading,s=e.date,r=t?"h1":"p",d=(0,a.QT)().__,l=o()(s).format("MMMM D"),c=o()(s).format("MMMM | D");return(0,i.jsx)("header",{className:"tdih-header",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsxs)("div",{className:"tdih-header__left",children:[(0,i.jsx)(n.V,{}),(0,i.jsxs)(r,{className:"tdih-header__title",children:[d("This Day In History"),(0,i.jsxs)("span",{className:"screen-reader-text",children:[": ","".concat(l)]})]})]}),(0,i.jsxs)("div",{className:"tdih-header__right",children:[(0,i.jsx)("div",{className:"tdih-header__current","aria-hidden":!0,children:c}),(0,i.jsx)(y,{date:s})]})]})})}},"./components/this-day-in-history-featured/index.tsx":function(e,t,s){var i=s("./node_modules/react/jsx-runtime.js"),n=s("./node_modules/next/image.js"),a=s.n(n),r=s("./node_modules/next/config.js"),d=s.n(r),o=s("./node_modules/classnames/index.js"),l=s.n(o),c=s("./node_modules/@wordpress/react-i18n/build-module/index.js"),u=s("./assets/icons/point-right.js"),h=s("./components/link/index.tsx"),m=s("./components/video-badges/index.tsx"),_=s("./utils/hooks/use-post-image.ts"),p=s("./components/image-credit/index.tsx"),v=s("./utils/url-helpers.ts"),f=s("./utils/post-helpers.ts"),x=s("./components/video-player/index.tsx"),j=s("./components/image-fallback-grid/index.tsx"),g=d()().publicRuntimeConfig.IMAGE_PLACEHOLDER,y=["(min-width: 1255px) 741px","(min-width: 850px) calc(60vw - 2.5rem)","100vw"].join(", ");t.Z=function(e){var t,s,n,r,d,o=e.post,b=e.images,w=e.isPost,N=e.video,M=(0,c.QT)().__,k=o.video_thumbnail,C=(0,_.J)(o,b),H=(null===(t=null===C||void 0===C?void 0:C.media_details.sizes)||void 0===t||null===(s=t.full)||void 0===s?void 0:s.source_url)||g,L=(null===C||void 0===C||null===(n=C.media_details)||void 0===n?void 0:n.width)||1920,D=(null===C||void 0===C||null===(r=C.media_details)||void 0===r?void 0:r.height)||1080,T=w?"h1":"h2",Z=w&&!!(null===N||void 0===N?void 0:N.id),S=l()("tdih-featured",{"tdih-featured--has-video":Z}),A=(0,i.jsxs)(i.Fragment,{children:[H?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a(),{src:H,alt:"",className:"tdih-featured__featured-image tdih-featured__featured-image--mobile",objectFit:"cover",sizes:y,loading:"eager",width:L,height:D}),(0,i.jsx)(a(),{src:H,alt:"",layout:"fill",className:"tdih-featured__featured-image tdih-featured__featured-image--desktop",objectFit:"cover",sizes:y,loading:"eager"})]}):(0,i.jsx)(j.N,{parentClass:""}),k&&(0,i.jsx)(m.q,{isLarge:!0,title:o.title.rendered})]});Z&&(A=(0,i.jsx)(x.Y,{className:"tdih-featured__video-player",video:N,autoplay:!(null===(d=o.meta)||void 0===d?void 0:d.video_disable_autoplay)}));return(0,i.jsxs)("div",{className:S,children:[C?(0,i.jsx)(a(),{src:H,alt:"",layout:"fill",className:"tdih-featured__bg-image",sizes:"100vw"}):(0,i.jsx)(j.N,{parentClass:""}),(0,i.jsxs)("div",{className:"tdih-featured__content",children:[(0,i.jsxs)("div",{className:"featured-content-card featured-content-card__content",children:[o.tdih_year_term&&(0,i.jsx)("p",{className:"featured-content-card__eyebrow tdih-featured__year",children:o.tdih_year_term.name}),(0,i.jsxs)(T,{className:"featured-content-card__title",children:[w&&(0,i.jsx)("span",{className:"tdih-featured__title",children:(0,f.SH)(o.title.rendered)}),!w&&(0,i.jsx)(h.s3,{className:"tdih-featured__title featured-content-card__link",href:(0,v.a9)(o.link),children:(0,f.SH)(o.title.rendered)})]}),!w&&(0,i.jsxs)(h.s3,{className:"featured-content-card__link button is-style-standalone has-icon",href:(0,v.a9)(o.link),tabIndex:-1,"aria-label":(0,f.SH)(o.title.rendered),children:[M("Read more"),(0,i.jsx)(u.e,{width:"18",height:"18"})]})]}),(0,i.jsxs)("figure",{className:"tdih-featured__image-container hide-print",children:[w&&(0,i.jsx)("div",{className:"tdih-featured__image-link",children:A}),!w&&(0,i.jsx)(h.s3,{href:(0,v.a9)(o.link),tabIndex:-1,className:"tdih-featured__image-link","aria-hidden":"true",children:A}),C&&(0,i.jsx)(p.k,{credit:C.meta.credit,creditUrl:C.meta.credit_url,baseClassName:"tdih-featured__image-credit",children:(0,i.jsx)("strong",{children:M("Photo Credit: ")})})]})]})]})}},"./components/this-day-in-history-grid/card.tsx":function(e,t,s){s.d(t,{z:function(){return j}});var i=s("./node_modules/react/jsx-runtime.js"),n=s("./utils/post-helpers.ts"),a=s("./assets/icons/flash.js"),r=s("./node_modules/next/image.js"),d=s.n(r),o=s("./node_modules/classnames/index.js"),l=s.n(o),c=s("./utils/hooks/use-post-image.ts"),u=s("./components/link/index.tsx"),h=s("./utils/hooks/use-primary-term.ts"),m=s("./utils/url-helpers.ts"),_=s("./node_modules/@wordpress/i18n/build-module/index.js"),p=s("./node_modules/@wordpress/react-i18n/build-module/index.js"),v=s("./node_modules/next/config.js"),f=s.n(v)()().publicRuntimeConfig.IMAGE_PLACEHOLDER,x=["(min-width: 1248px) 384px","(min-width: 850px) calc(33.33vw - 2.5rem)","(min-width: 636px) calc(50vw - 2.5rem)","calc(100vw - 2.5rem)"].join(", ");function j(e){var t,s,r,o,v=e.post,j=e.images,g=e.terms,y=(0,p.QT)().__,b="type"in v,w=(0,c.J)(b?v:void 0,j),N=l()("tdih-posts-grid__article has-elevation",{"tdih-posts-grid__article--has-featured-image":!!w}),M=b?(null===(t=null===w||void 0===w?void 0:w.media_details.sizes)||void 0===t||null===(s=t.full)||void 0===s?void 0:s.source_url)||"":v.featured_media_url||"",k=(0,h.Z)(b?v:void 0,g),C=b?k:v.story_category[0],H=b?v.title.rendered:v.title,L="",D="",T=b?(0,m.a9)(v.link):"/this-day-in-history/".concat(v.slug);if(C&&("link"in C?L=C.link:"url"in C&&(L=C.url)),b){if(!(D=(null===(r=v.tdih_year_term)||void 0===r?void 0:r.name)||"")){var Z,S=v.tdih_year[0];D=(null===g||void 0===g||null===(Z=g[S])||void 0===Z?void 0:Z.name)||""}}else D=(null===(o=v.year[0])||void 0===o?void 0:o.name)||"";var A=(0,n.SH)((null===C||void 0===C?void 0:C.name)||"");return(0,i.jsxs)("article",{className:N,children:[(0,i.jsx)(d(),{className:"tdih-posts-grid__article-image",src:M||f,layout:"fill",alt:"",sizes:x}),D&&(0,i.jsx)("span",{className:"tdih-posts-grid__article-year",children:D}),(0,i.jsx)("h3",{className:"tdih-posts-grid__article-title",children:(0,i.jsx)(u.s3,{href:T,className:"tdih-posts-grid__article-link",children:(0,n.SH)(H)})}),L&&(null===C||void 0===C?void 0:C.name)&&(0,i.jsxs)(u.UP,{href:(0,m.a9)(L),className:"tdih-posts-grid__article-meta","aria-label":(0,_.gB)(y("Read more articles on %s"),A),children:[(0,i.jsx)(a.T,{width:"20",height:"20"}),A]})]})}},"./components/this-day-in-history-grid/index.tsx":function(e,t,s){var i=s("./node_modules/react/jsx-runtime.js"),n=s("./node_modules/react/index.js"),a=s("./node_modules/dayjs/dayjs.min.js"),r=s.n(a),d=s("./node_modules/@wordpress/react-i18n/build-module/index.js"),o=s("./node_modules/@wordpress/i18n/build-module/index.js"),l=s("./components/raw-html/index.tsx"),c=s("./components/this-day-in-history-grid/card.tsx"),u=s("./components/signup-banner/index.tsx"),h=s("./components/video-player/index.tsx"),m=s("./context/video.tsx");t.Z=function(e){var t,s,a,_,p,v,f,x,j,g,y,b,w,N,M=e.date,k=e.posts,C=e.images,H=e.terms,L=e.description,D=e.hasFeatured,T=e.primaryTerm,Z=(0,d.QT)().__;if(!Array.isArray(k)||0===k.length)return null;var S=k.length>9?5:2,A=r()(M).format("MMMM | D"),E=D?(0,o.gB)(Z('Also on This Day in History <span class="tdih-posts__title-date">%s</span>'),A):Z("This Day in History"),R={id:(null===T||void 0===T||null===(t=T.meta)||void 0===t||null===(s=t.featured_video)||void 0===s?void 0:s.id)||"",ppl_id:(null===T||void 0===T||null===(a=T.meta)||void 0===a||null===(_=a.featured_video)||void 0===_?void 0:_.ppl_id)||[],publicUrl:(null===T||void 0===T||null===(p=T.meta)||void 0===p||null===(v=p.featured_video)||void 0===v?void 0:v.public_url)||"",title:(null===T||void 0===T||null===(f=T.meta)||void 0===f||null===(x=f.featured_video)||void 0===x?void 0:x.title)||"",poster:(null===T||void 0===T||null===(j=T.meta)||void 0===j||null===(g=j.featured_video)||void 0===g?void 0:g.poster)||"",restrictionId:(null===T||void 0===T||null===(y=T.meta)||void 0===y||null===(b=y.featured_video)||void 0===b?void 0:b.restriction_id)||void 0},z=!!R.id;return(0,i.jsxs)("div",{className:"tdih-posts",children:[(0,i.jsx)(l.w,{value:E,tagName:"h2",className:"tdih-posts__title"}),(0,i.jsx)("hr",{className:"wp-block-separator has-background has-grey-color alignfull"}),L&&(0,i.jsx)(l.w,{value:L,tagName:"div",className:"tdih-posts__description"}),z&&(0,i.jsx)(m.G,{children:(0,i.jsx)(h.Y,{video:R,autoplay:!(null===T||void 0===T||null===(w=T.meta)||void 0===w||null===(N=w.featured_video)||void 0===N?void 0:N.disable_autoplay)})}),(0,i.jsx)("div",{className:"tdih-posts-grid",children:k.map((function(e,t){return(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)(c.z,{post:e,images:C,terms:H}),t===S&&(0,i.jsx)(u.z,{image:"tdih_newsletter_image",headingTag:"h3",heading:Z("Wake Up to This Day in History"),text:Z("<p>Sign up now to learn about This Day in History straight from your inbox. <br/> Get all of today's events in just one email featuring a range of topics.</p>"),signUpId:"h_opt_tdih",ctaButtonText:Z("Sign Up")})]},e.id)}))})]})}},"./utils/hooks/use-post-image.ts":function(e,t,s){function i(e,t){var s;return t&&e&&(e.meta&&e.meta.post_thumbnail_image&&e.meta.post_thumbnail_image in t?s=t[e.meta.post_thumbnail_image]:e.featured_media&&e.featured_media in t&&(s=t[e.featured_media])),s}s.d(t,{J:function(){return i}})}}]);